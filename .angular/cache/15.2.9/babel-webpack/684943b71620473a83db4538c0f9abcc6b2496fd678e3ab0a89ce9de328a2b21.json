{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servicios/consulta.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ConsultaComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 3)(1, \"label\");\n    i0.ɵɵtext(2, \"DNI:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 4);\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Apellido:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 5);\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Nombre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 6);\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 7);\n    i0.ɵɵelementStart(13, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ConsultaComponent_form_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSubmit());\n    });\n    i0.ɵɵtext(14, \"Crear nuevo\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.personaForm);\n  }\n}\nfunction ConsultaComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ConsultaComponent_tr_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const persona_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onEdit(persona_r5));\n    });\n    i0.ɵɵtext(11, \"Editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ConsultaComponent_tr_15_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const persona_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onDelete(persona_r5));\n    });\n    i0.ɵɵtext(14, \"Borrar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const persona_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r5.dni);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r5.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r5.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r5.email);\n  }\n}\nfunction ConsultaComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 10)(2, \"table\")(3, \"tr\")(4, \"td\")(5, \"label\", 11);\n    i0.ɵɵtext(6, \"Dni\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelement(8, \"input\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"tr\")(10, \"td\")(11, \"label\", 13);\n    i0.ɵɵtext(12, \"Last Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelement(14, \"input\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"tr\")(16, \"td\")(17, \"label\", 15);\n    i0.ɵɵtext(18, \"First Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelement(20, \"input\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"tr\")(22, \"td\")(23, \"label\", 17);\n    i0.ɵɵtext(24, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelement(26, \"input\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"tr\")(28, \"td\", 19)(29, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ConsultaComponent_div_16_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.actualizar());\n    });\n    i0.ɵɵtext(30, \"Actualizar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"td\", 19)(32, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ConsultaComponent_div_16_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.cancelar());\n    });\n    i0.ɵɵtext(33, \"Cancelar\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.personaForm);\n  }\n}\nexport class ConsultaComponent {\n  constructor(servicio) {\n    this.servicio = servicio;\n    this.editar = false;\n    this.idActualizar = null;\n    this.personaForm = new FormGroup({\n      dni: new FormControl('', [Validators.required, Validators.minLength(7), Validators.maxLength(8)]),\n      lastName: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(20)]),\n      firstName: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(20)]),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      cohort: new FormControl('0'),\n      status: new FormControl('activo'),\n      gender: new FormControl('masculino'),\n      address: new FormControl('abc123'),\n      phone: new FormControl('000')\n    });\n  }\n  ngOnInit() {\n    this.servicio.loadStudents().subscribe(data => {\n      this.personas = data;\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n  }\n  onSubmit() {\n    console.log(this.personaForm.value);\n    this.servicio.addStudent(this.personaForm.value).subscribe(data => {\n      console.log(data);\n      this.resetForm();\n      this.ngOnInit();\n    }, error => {\n      console.log(error);\n    });\n  }\n  onDelete(persona) {\n    console.log(persona);\n    var result = window.confirm(\"¿Está seguro que desea eliminar?\");\n    if (result) {\n      this.servicio.removeStudent(persona.id).subscribe(data => {\n        console.log(data);\n        this.ngOnInit();\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n  onEdit(persona) {\n    console.log(persona);\n    this.editar = true;\n    this.idActualizar = persona.id;\n    this.personaForm.setValue({\n      dni: persona.dni,\n      lastName: persona.lastName,\n      firstName: persona.firstName,\n      email: persona.email,\n      cohort: persona.cohort,\n      status: persona.status,\n      gender: persona.gender,\n      address: persona.address,\n      phone: persona.phone\n    });\n    /* this.servicio.getStudents(persona.id).subscribe(\r\n       (data) => {\r\n         console.log(data);\r\n       },\r\n       (error) => {\r\n         console.log(error);\r\n       }\r\n     );*/\n  }\n\n  resetForm() {\n    this.personaForm.patchValue({\n      dni: '',\n      lastName: '',\n      firstName: '',\n      email: ''\n    });\n  }\n  cancelar() {\n    this.resetForm();\n    this.editar = false;\n    this.idActualizar = null;\n  }\n  actualizar() {\n    console.log(this.personaForm.value);\n    this.servicio.updateStudent(this.idActualizar, this.personaForm.value).subscribe(data => {\n      console.log(data);\n      this.resetForm();\n      this.editar = false;\n      this.ngOnInit();\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nConsultaComponent.ɵfac = function ConsultaComponent_Factory(t) {\n  return new (t || ConsultaComponent)(i0.ɵɵdirectiveInject(i1.ConsultaService));\n};\nConsultaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConsultaComponent,\n  selectors: [[\"app-consulta\"]],\n  decls: 17,\n  vars: 3,\n  consts: [[\"align\", \"center\", 3, \"formGroup\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"align\", \"center\", 3, \"formGroup\"], [\"type\", \"text\", \"placeholder\", \"dni\", \"formControlName\", \"dni\"], [\"matInput\", \"\", \"placeholder\", \"apellido\", \"formControlName\", \"lastName\"], [\"matInput\", \"\", \"placeholder\", \"nombre\", \"formControlName\", \"firstName\"], [\"matInput\", \"\", \"placeholder\", \"email\", \"formControlName\", \"email\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [3, \"formGroup\"], [\"for\", \"dni2\", 2, \"font-weight\", \"bold\"], [\"formControlName\", \"dni\", \"name\", \"dni2\", 2, \"text-align\", \"right\"], [\"for\", \"lastName2\", 2, \"font-weight\", \"bold\"], [\"name\", \"lastName2\", \"formControlName\", \"lastName\", 2, \"text-align\", \"right\"], [\"for\", \"firstName2\", 2, \"font-weight\", \"bold\"], [\"name\", \"firstName2\", \"formControlName\", \"firstName\", 2, \"text-align\", \"right\"], [\"for\", \"email2\", 2, \"font-weight\", \"bold\"], [\"name\", \"email2\", \"formControlName\", \"email\", 2, \"text-align\", \"right\"], [\"colspan\", \"2\", 2, \"text-align\", \"center\"], [3, \"click\"]],\n  template: function ConsultaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ConsultaComponent_form_0_Template, 15, 1, \"form\", 0);\n      i0.ɵɵelementStart(1, \"table\")(2, \"tr\")(3, \"th\");\n      i0.ɵɵtext(4, \"DNI\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\");\n      i0.ɵɵtext(6, \"Apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Editar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Borrar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(15, ConsultaComponent_tr_15_Template, 15, 4, \"tr\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, ConsultaComponent_div_16_Template, 34, 1, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.editar);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.personas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.editar);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","ConsultaComponent","constructor","servicio","dni","required","minLength","maxLength","lastName","firstName","email","cohort","status","gender","address","phone","ngOnInit","loadStudents","subscribe","data","personas","console","log","error","onSubmit","personaForm","value","addStudent","resetForm","onDelete","persona","result","window","confirm","removeStudent","id","onEdit","editar","idActualizar","setValue","patchValue","cancelar","actualizar","updateStudent","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Agus\\Desktop\\sin node\\src\\app\\componentes\\consulta\\consulta.component.ts","C:\\Users\\Agus\\Desktop\\sin node\\src\\app\\componentes\\consulta\\consulta.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ConsultaService } from 'src/app/servicios/consulta.service';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-consulta',\n  templateUrl: './consulta.component.html',\n  styleUrls: ['./consulta.component.scss']\n})\nexport class ConsultaComponent {\n\n  constructor(private servicio: ConsultaService) { }\n  personas: any;\n  editar=false\n  idActualizar=null\n  personaForm = new FormGroup({\n    dni: new FormControl('', [Validators.required, Validators.minLength(7), Validators.maxLength(8)]),\n    lastName: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(20)]),\n    firstName: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(20)]),\n    email: new FormControl('', [Validators.required, Validators.email]),\n    cohort: new FormControl('0'),\n    status: new FormControl('activo'),\n    gender: new FormControl('masculino'),\n    address: new FormControl('abc123'),\n    phone: new FormControl('000')\n  });\n\n  ngOnInit(): void {\n    this.servicio.loadStudents().subscribe(\n      (data) => {\n        this.personas = data;\n        console.log(data);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  onSubmit() {\n    console.log(this.personaForm.value);\n    this.servicio.addStudent(this.personaForm.value).subscribe(\n      (data) => {\n        console.log(data);\n        this.resetForm()\n        this.ngOnInit()\n      },\n      (error) => {\n        console.log(error);\n      }\n    )\n\n  }\n  onDelete(persona: any) {\n    console.log(persona);\n    var result = window.confirm(\"¿Está seguro que desea eliminar?\");\n    if (result) {\n\n      this.servicio.removeStudent(persona.id).subscribe(\n        (data) => {\n          console.log(data);\n          this.ngOnInit()\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n      \n    }\n  }\n  onEdit(persona: any) {\n    \n    console.log(persona);\n    this.editar=true\n    this.idActualizar=persona.id\n    this.personaForm.setValue({\n      dni: persona.dni,\n      lastName: persona.lastName,\n      firstName: persona.firstName,\n      email: persona.email,\n      cohort: persona.cohort,\n      status: persona.status,\n      gender: persona.gender,\n      address: persona.address,\n      phone: persona.phone\n    });\n   /* this.servicio.getStudents(persona.id).subscribe(\n      (data) => {\n        console.log(data);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );*/\n  }\n  resetForm(){\n    this.personaForm.patchValue({\n      dni: '',\n      lastName: '',\n      firstName: '',\n      email: '',\n    });\n  }\n  cancelar(){\n    this.resetForm()\n    this.editar=false\n    this.idActualizar=null\n  }\n  actualizar(){\n    console.log(this.personaForm.value);\n    this.servicio.updateStudent(this.idActualizar,this.personaForm.value).subscribe(\n      (data) => {\n        console.log(data);\n        this.resetForm()\n        this.editar=false\n        this.ngOnInit()\n      },\n      (error) => {\n        console.log(error);\n      }\n    )\n\n  }\n  \n\n}\n","<form *ngIf=\"!editar\" [formGroup]=\"personaForm\" align=\"center\">\n    <label>DNI:</label>\n    <input type=\"text\" placeholder=\"dni\" formControlName=\"dni\"> \n    <label>Apellido:</label>\n    <input matInput placeholder=\"apellido\" formControlName=\"lastName\">\n    <label>Nombre:</label>\n    <input matInput placeholder=\"nombre\" formControlName=\"firstName\">\n    <label>Email:</label>\n    <input matInput placeholder=\"email\" formControlName=\"email\">\n    <button mat-raised-button color=\"primary\" (click)=\"onSubmit()\">Crear nuevo</button>\n\n</form>\n\n<table>\n    <tr>\n        <th>DNI</th>\n        <th>Apellido</th>\n        <th>Nombre</th>\n        <th>Email</th>\n        <th>Editar</th>\n        <th>Borrar</th>\n    </tr>\n    <tr *ngFor=\"let persona of personas\">\n        <td>{{persona.dni}}</td>\n        <td>{{persona.lastName}}</td>\n        <td>{{persona.firstName}}</td>\n        <td>{{persona.email}}</td>\n        <td><button mat-raised-button color=\"primary\" (click)=\"onEdit(persona)\">Editar</button></td>\n        <td><button mat-raised-button color=\"warn\" (click)=\"onDelete(persona)\">Borrar</button></td>\n    </tr>\n</table>\n\n<div *ngIf=\"editar\">\n    <form [formGroup]=\"personaForm\">\n    <table>\n        <tr>\n            <td><label for='dni2' style='font-weight: bold'>Dni</label></td>\n            <td><input formControlName=\"dni\" name='dni2' style='text-align: right' /></td>\n        </tr>\n        <tr>\n            <td><label for='lastName2' style='font-weight: bold'>Last Name</label></td>\n            <td><input name='lastName2' formControlName=\"lastName\" style='text-align: right' /></td>\n        </tr>\n        <tr>\n            <td><label for='firstName2' style='font-weight: bold'>First Name</label></td>\n            <td><input name='firstName2' formControlName=\"firstName\" style='text-align: right' /></td>\n        </tr>\n        <tr>\n            <td><label for='email2' style='font-weight: bold'>Email</label></td>\n            <td><input name='email2' formControlName=\"email\" style='text-align: right' /></td>\n        </tr>\n        <tr>\n            <td colspan='2' style='text-align: center'><button (click)='actualizar()'>Actualizar</button></td>\n            <td colspan='2' style='text-align: center'><button (click)='cancelar()'>Cancelar</button></td>\n        </tr>\n    </table>\n        </form>\n    \n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}